import { unwrapResponse } from '../client.js';
export class TransactionsAPI {
    constructor(client) {
        this.client = client;
    }
    /**
     * Submit transaction hash after organization broadcasts
     * Use when the neobank broadcasts the signed transaction themselves
     * @param request Operation ID and transaction hash
     */
    async submitHash(request) {
        const response = await this.client.post('/v1/transactions/submit-hash', request);
        return unwrapResponse(response);
    }
    /**
     * Submit signed transaction for RebelFi to broadcast
     * Use when the neobank wants RebelFi to broadcast the transaction
     * @param request Operation ID and signed transaction
     */
    async submitSigned(request) {
        const response = await this.client.post('/v1/transactions/submit-signed', request);
        return unwrapResponse(response);
    }
    /**
     * Get current transaction status
     * @param id Transaction ID
     */
    async get(id) {
        const response = await this.client.get(`/v1/transactions/${id}`);
        return unwrapResponse(response);
    }
    /**
     * Recover a transaction that was broadcasted but not properly submitted.
     * Use when you broadcasted a transaction externally but forgot to call submitHash.
     * @param operationId Operation ID the transaction belongs to
     * @param request Recovery details including the tx hash
     */
    async recover(operationId, request) {
        const response = await this.client.post(`/v1/transactions/${operationId}/recover`, request);
        return unwrapResponse(response);
    }
}
//# sourceMappingURL=transactions.js.map